<input hidden #file type="file" accept='image/*' (change)="onFileUpload($event)"/>
<button mat-button (click)="file.click()">Browse</button>
<button mat-button disabled *ngIf="!img; else elseBlock">Submit</button>
<ng-template #elseBlock>
    <button mat-button (click)="onSubmit()">Submit</button>
</ng-template>

<span style="color:red;" *ngIf="message">{{ message }}</span>